---
page_title: "dokploy_port Resource - dokploy"
subcategory: ""
description: |-
  Manages a port mapping for a Dokploy application.
---

# dokploy_port (Resource)

Manages a port mapping for a Dokploy application. Port mappings are used to expose non-HTTP services such as databases, WebSocket servers, gRPC endpoints, or custom TCP/UDP services.

## Example Usage

### Expose PostgreSQL Database

```terraform
resource "dokploy_port" "postgres" {
  application_id = dokploy_application.postgres.id
  published_port = 5432
  target_port    = 5432
  protocol       = "tcp"
  publish_mode   = "host"
}
```

### Expose Redis

```terraform
resource "dokploy_port" "redis" {
  application_id = dokploy_application.redis.id
  published_port = 6379
  target_port    = 6379
  protocol       = "tcp"
  publish_mode   = "ingress"
}
```

### Expose UDP Service

```terraform
resource "dokploy_port" "dns" {
  application_id = dokploy_application.dns_server.id
  published_port = 53
  target_port    = 53
  protocol       = "udp"
  publish_mode   = "host"
}
```

### Expose gRPC Service

```terraform
resource "dokploy_port" "grpc" {
  application_id = dokploy_application.api.id
  published_port = 50051
  target_port    = 50051
  protocol       = "tcp"
  publish_mode   = "ingress"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application_id` (String) The ID of the application.
- `published_port` (Number) The port exposed on the host.
- `target_port` (Number) The port inside the container.

### Optional

- `protocol` (String) Protocol: tcp or udp. Defaults to `tcp`.
- `publish_mode` (String) Publish mode: ingress or host. Defaults to `ingress`.

### Read-Only

- `id` (String) The unique identifier of the port mapping.

## Publish Modes

- **ingress**: The port is exposed via the Docker Swarm routing mesh, allowing load balancing across multiple replicas.
- **host**: The port is exposed directly on the host, bypassing the routing mesh. Use this for services that need direct access or don't support load balancing.

## Import

Import is supported using the following syntax:

```shell
# Ports can be imported using their ID
terraform import dokploy_port.postgres "port-id-123"
```
